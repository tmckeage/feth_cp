<div class="accordion-header" [attr.id]="'scannerDataTitle'+categoryIndex">
    <button class="accordion-button collapsed position-relative justify-content-between shadow-none mb-2 p-0" type="button" data-bs-toggle="collapse" aria-expanded="false" [attr.data-bs-target]="'#scannerDataTitleButton'+categoryIndex" [attr.aria-controls]="'scannerDataTitleButton'+categoryIndex">
        <span class="font-awesome-font fa-solid fa-caret-right"></span>
        <div class="acc-title ms-3 me-3 d-flex w-100 justify-content-between border-bottom-3">
            <h5 *ngIf="equDetails?.value?.title !== undefined" class="modal-title font-small">{{equDetails.value.title}}</h5> 
            <h5 *ngIf="equDetails?.value?.data?.assessment !== undefined" class="modal-title font-small text-uppercase">{{equDetails.value.data.assessment}}</h5>
        </div>
    </button>  
</div>

<div [attr.id]="'scannerDataTitleButton'+categoryIndex" class="m-3 accordion-collapse collapse" [attr.aria-labelledby]="'scannerDataTitle'+categoryIndex" data-bs-parent="#scannerEvData">
    <h6 class="mb-3">Evaluation Notes</h6>
    <div class="row mb-4">
        <div *ngIf="equDetails?.value?.data !== undefined" class="col">
            <div *ngIf="equDetails?.value?.data?.note !== undefined" class="mb-4">
                <textarea 
                [(ngModel)]="equDetails.value.data.note"
                [readonly]="scannerDataEditNote === equDetails?.value?.title ? false : true"  
                [ngClass]="scannerDataEditNote === equDetails?.value?.title ? '' : 'edit-disable'" 
                class="textarea">{{equDetails?.value?.data?.note}}</textarea>
            </div>
        </div>
        <div *ngIf="equDetails?.value?.layout === 'withImg'" class="col d-flex align-items-end">
            <div class="mb-2 evaluation-image">
                <div *ngIf="equDetails?.value?.data?.img; else imgNotFound">
                    <img src="{{equDetails.value.data.img}}" alt="">
                </div>
                <ng-template #imgNotFound> 
                    <img src="../../../assets/images/NoImageFound.png" alt=""> 
                </ng-template>
            </div>
        </div>
    </div>
    <div *ngIf="equDetails?.value?.data?.note !== undefined || equDetails?.value?.data?.assessment !== undefined" class="d-flex align-items-end justify-content-between">
        <div *ngIf="equDetails?.value?.data?.note !== undefined" class="evalution-data-buttons">
            <button class="btn m-1" (click)="evDetailsEditNote(scannerId, equDetails, 'scanners')"> {{scannerDataEditNote === equDetails?.value?.title ? ' Save Notes ': ' Edit Notes '}} </button>
        </div>
        <div *ngIf="equDetails?.value?.data?.assessment !== undefined" class="evalution-data-buttons text-end">
            <button [ngClass]="equDetails?.value?.data?.assessment === 'pass'? 'active' : ''" class="btn text-uppercase m-1" (click)="evDetailsAssessmentValue(scannerId, equDetails, 'pass', 'scanners')"> Pass </button>
            <button [ngClass]="equDetails?.value?.data?.assessment === 'fail'? 'active' : ''" class="btn text-uppercase m-1" (click)="evDetailsAssessmentValue(scannerId, equDetails, 'fail', 'scanners')"> Fail </button>
        </div>
    </div>
</div>